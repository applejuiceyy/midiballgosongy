let i=Object.create(null);function n(e,t,r){t!==void 0&&(i[t]===void 0&&(i[t]={}),i[t][e]=r)}let k=Object.assign({"./visualisers/bouncyball/worker.ts":()=>import("./chunks/worker-QU3t2-qd.js").then(e=>e.default)}),g=new RegExp("\\./visualisers/(.+?)/worker\\.ts");Object.entries(k).forEach(e=>{n("worker",g.exec(e[0])?.[1],e[1])});let o=new Set;self.addEventListener("message",function(e){console.log("got message",e.data);let t=e.data;switch(t.type){case"midi":p(t);break;case"cancel":o.add(t.ticket);break}});async function p(e){let t=Symbol(),r=0,c=(s,l)=>{if(o.has(e.ticket))throw t;let a=performance.now();r>a-1||(r=a,postMessage({ticket:e.ticket,type:"progress",progress:l,action:s}))};try{c("setting up",0);let s=await i[e.id].worker();c("setting up",1);let l=s(e.data,c);postMessage({ticket:e.ticket,data:l,type:"result"})}catch(s){if(s==t){postMessage({ticket:e.ticket,type:"cancel"}),o.delete(e.ticket);return}throw s}}
